<!DOCTYPE html>
<html ng-app='8moons' ng-controller='8moonsController'>

<head>
	<!-- Titulo da pagina -->
	<title>8Moons Bazaar</title>

	<!-- AngularJS -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
	<!-- My Styles -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="stylesheet.css" />
</head>

<body>
	
	<div ng-controller='headerController'>
		<!-- Header -->
		<div class='header'>
			<h1 class='pageTitle'>8Moons Bazaar</h1>
			<a class='openBtn openKart' href="javascript:void(0)" ng-click="toggleKart()"><i class="fa fa-shopping-cart"></i></a>
			<a class='openBtn openMenu' href="javascript:void(0)" ng-click="toggleNav()"><i class="fa fa-bars"></i></a>
		</div>
	
		<!-- Sidebar -->
		<div id="mySidenav" class="sidenav">
			<a class="closebtn" href="javascript:void(0)" ng-click="toggleNav()">&times;</a>
			<!-- LOGO -->
			<a target="_blank" href='{{logo}}' class='logoPadding'>
				<img ng-src='{{logo}}'>
			</a>
			<div ng-repeat='dept in pageGrid'>
				<a href="#{{dept.name}}">{{dept.name}}</a>
			</div>
			<div class='fixedBottom'>
				<hr class='littleBar'>
				<a class='italicBtn' href="#info">Informacoes</a>
				<a class='italicBtn' href="javascript:void(0)">Manutencao</a>
			</div>
		</div>
	
		<!-- Kart -->
		<div id="myKart" class="kart" ng-controller='kartController'>
			<h1 class='pageTitle'>Carrinho</h1>
			<a class="closebtn" href="javascript:void(0)" ng-click="toggleKart()">&times;</a>
							
			<table class='pageKart'>
				<tr ng-repeat="item in pageKart">
					<td>{{item.name}}</td>
					<td>R$ {{item.value}}</td>
					<td>Tamanho {{item.size}}</td>
					<td>
						<button ng-click='delItem(item.id);'><i class="fa fa-trash"></i></button>
					</td>
				</tr>
			</table>
				
			<div class='fixedBottom'>
				<hr class='littleBar'>				
				<div class='kartBtns'>
					<a class='italicBtn clear' href="javascript:void(0)">Clear</a>
					<a class='italicBtn checkout' href="#info">Check Out</a>
				</div>
			</div>
		</div>
	</div>
	
	<!-- Message box -->
	<div ng-switch="msg.type">
		<div class='msgBox erroMsg' ng-switch-when="E">
			<a class="closeMsg" href="javascript:void(0)" ng-click="clearMsg()">&times;</a>
			<h3>Erro: </h3>
			<hr class='littleBar'>
			<div class='msgBox' ng-repeat='line in msg.text'>
				<p class='textMsg'>{{line}}</p>
			</div>
		</div>
		<div class='msgBox successMsg' ng-switch-when="S">
			<a class="closeMsg" href="javascript:void(0)" ng-click="clearMsg()">&times;</a>
			<h2>Sucesso: </h2>
			<hr class='littleBar'>
			<div class='msgBox'>
				<p class='textMsg'>{{msg.text}}</p>
			</div>
		</div>
	</div>		

	<!-- Main screen -->
	<div id="main">
		<div ng-controller='gridController'>	
			<div ng-repeat='dept in pageGrid' id='{{dept.name}}'>
			
				<h3 class='deptTitle'>{{dept.name}}</h3>	
				<hr class='littleBar'>
				
				<table class='pageGrid'>
					<tr ng-repeat="item in dept.products">
						<td>
							<a target="_blank" href='{{item.img}}'><img ng-src='{{item.img}}'></a>
						</td>
						<td>{{item.name}}</td>
						<td>R$ {{item.value}}</td>
						<td>Tamanho {{item.size}}</td>
						<td>
							<button ng-click='addItem(item.id);'>Comprar</button>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>

	<!-- Email SMTP -->
	<script src="https://smtpjs.com/smtp.js"></script>
	<!-- My Scripts -->
	<script src="module.js" type="text/javascript"></script>
	<script src="controller.js" type="text/javascript"></script>
	<!-- Script for Firebase -->
	<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
</body>

</html>